# 브레인스토밍 모듈 - 발표용 플로우차트

> 중간발표용 시각화 자료 (간결 버전)

---

## 📊 브레인스토밍 모듈 전체 플로우

```mermaid
flowchart TB
    subgraph "Phase 1: 데이터 준비"
        A1[브레인스토밍 매뉴얼<br/>SCAMPER, Mind Map 등]
        A2[문서 청크 분리]
        A3[OpenAI 임베딩<br/>text-embedding-3-large]
        A4[(영구 벡터 DB<br/>ChromaDB<br/>brainstorming_techniques)]
        
        A1 --> A2 --> A3 --> A4
    end
    
    subgraph "Phase 2: 사용자 입력"
        B1[사용자: 목적 입력<br/>Q1]
        B2[LLM: 유도질문 생성<br/>Q2: 2-3개 워밍업 질문]
        B3[사용자: 키워드 입력<br/>Q3: 10~20개 자유연상<br/>30초 타이머]
        B4[OpenAI 임베딩]
        B5[(임시 벡터 DB<br/>ChromaDB<br/>session_uuid)]
        
        B1 --> B2 --> B3 --> B4 --> B5
    end
    
    subgraph "Phase 3: 아이디어 생성"
        C1[RAG 검색]
        C2[영구 DB:<br/>브레인스토밍 기법 검색]
        C3[임시 DB:<br/>키워드 유사도 검색]
        C4[프롬프트 조합<br/>+ 직군 추론]
        C5[GPT-4o<br/>아이디어 생성]
        C6[2-3개 아이디어<br/>+ 적용 기법]
        
        C1 --> C2
        C1 --> C3
        C2 --> C4
        C3 --> C4
        C4 --> C5 --> C6
    end
    
    subgraph "Phase 4: 분석"
        D1[영구 DB:<br/>분석 기법 참조]
        D2[GPT-4o<br/>SWOT 분석]
        D3[강점/약점<br/>기회/위협]
        
        D1 --> D2 --> D3
    end
    
    subgraph "Phase 5: 종료"
        E1[임시 DB 삭제<br/>session_uuid]
        E2[세션 데이터 정리]
        
        E1 --> E2
    end
    
    A4 -.참조.-> C2
    B5 -.참조.-> C3
    C6 --> D1
    D3 --> E1
    
    style A4 fill:#fff9c4
    style B5 fill:#ffccbc
    style C5 fill:#f3e5f5
    style D2 fill:#f3e5f5
    style E1 fill:#ffccbc
```

---

## 🔄 핵심 데이터 흐름 (간단 버전)

```mermaid
graph LR
    A[브레인스토밍<br/>매뉴얼] -->|청크+임베딩| B[(영구 DB)]
    C[사용자<br/>키워드] -->|임베딩| D[(임시 DB)]
    
    B -->|기법 검색| E[GPT-4o]
    D -->|유사도 검색| E
    
    E -->|아이디어 생성| F[2-3개<br/>아이디어]
    
    B -->|분석 기법| G[GPT-4o]
    F --> G
    G -->|SWOT 분석| H[강점/약점<br/>기회/위협]
    
    H --> I[임시 DB<br/>삭제]
    
    style B fill:#fff9c4
    style D fill:#ffccbc
    style E fill:#f3e5f5
    style G fill:#f3e5f5
```

---

## 📌 핵심 포인트

### **1. 이중 RAG 구조**
- **영구 RAG**: 브레인스토밍 기법 매뉴얼 (SCAMPER, Mind Map 등)
- **Ephemeral RAG**: 사용자 키워드 (세션별 임시 저장 → 종료 시 삭제)

### **2. 3단계 프로세스**
- **Q1**: 목적 입력 (예: "모바일 앱 아이디어")
- **Q2**: LLM이 워밍업 질문 생성 (직군별 맞춤)
- **Q3**: 30초 자유연상 (10~20개 키워드)

### **3. LLM 품질 향상**
- RAG로 브레인스토밍 기법 제공 → 구체적인 아이디어
- 직군 자동 추론 (유튜버, 회사원, 소상공인 등)
- 허구 데이터 금지 프롬프트 (현실적 실행 가능성)

### **4. 보안 & 메모리 관리**
- 임시 DB는 세션 종료 시 자동 삭제
- 아이디어 유출 방지
- 메모리 효율적 (파일 기반 ChromaDB)

---

## 🎨 발표 시 설명 예시

> "**브레인스토밍 모듈**은 **이중 RAG 구조**를 사용합니다.  
> 
> **첫째**, 브레인스토밍 매뉴얼을 청크로 나눠 **영구 벡터 DB**에 저장합니다.  
> 
> **둘째**, 사용자가 입력한 키워드를 **임시 벡터 DB**에 저장하고,  
> 세션 종료 시 자동으로 삭제하여 **아이디어 유출을 방지**합니다.  
> 
> **셋째**, 두 DB를 동시에 검색하여 **GPT-4o**에게 전달하면,  
> **구체적이고 실행 가능한 아이디어**를 생성합니다.  
> 
> **마지막**으로, 생성된 아이디어를 **SWOT 분석**하여  
> **강점/약점/기회/위협**을 제시합니다."

---

**작성 완료!** 🎉

