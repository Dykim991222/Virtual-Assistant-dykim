# âš ï¸ Requirements.txt ì¶©ëŒ ë¶„ì„

## ğŸ“Š 3ê°œ ë²„ì „ ë¹„êµ

### **ë²„ì „ 1 (íŒ€ì›A - ì‚­ì œëœ ë²„ì „)**
```
chromadb==0.4.24
pydantic>=2.11.2
langchain>=0.3.0,<0.4.0
sentence-transformers>=3.0.0 âœ…
torch>=2.0.0 âœ…
voyageai>=0.3.0
```

### **ë²„ì „ 2 (íŒ€ì›B - ê°„ì†Œí™” ë²„ì „)**
```
chromadb==0.4.24
pydantic==2.12.4
langchain==0.3.27
sentence-transformers ì—†ìŒ âŒ
torch ì—†ìŒ âŒ
```

### **ë²„ì „ 3 (í˜„ì¬ - í’€ë²„ì „)**
```
chromadb==0.5.23 âš ï¸ ë‹¤ë¦„!
pydantic==2.10.3
langchain==0.3.9
sentence-transformers==3.3.1 âœ…
torch==2.5.1 âœ…
```

---

## ğŸ”´ ì‹¬ê°í•œ ì¶©ëŒ

### 1. **ChromaDB ë²„ì „**
```
ë²„ì „1,2: 0.4.24
ë²„ì „3:   0.5.23
```
**ë¬¸ì œ:**
- 0.5 â†’ 0.4 ë‹¤ìš´ê·¸ë ˆì´ë“œ ì‹œ ë°ì´í„° í˜¸í™˜ì„± ê¹¨ì§ˆ ìˆ˜ ìˆìŒ
- ë¸Œë ˆì¸ìŠ¤í† ë° ChromaDB ë°ì´í„° ì†ì‹¤ ìœ„í—˜

**í•´ê²°ì±…:**
- ëª¨ë‘ 0.5.23ìœ¼ë¡œ í†µì¼ (ìµœì‹  ë²„ì „)
- ë˜ëŠ” ëª¨ë‘ 0.4.24ë¡œ í†µì¼ í›„ í…ŒìŠ¤íŠ¸

---

### 2. **sentence-transformers / torch**
```
ë²„ì „1: ìˆìŒ (>=3.0.0, >=2.0.0)
ë²„ì „2: ì—†ìŒ
ë²„ì „3: ìˆìŒ (==3.3.1, ==2.5.1)
```

**ì‹¤ì œ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ í•„ìš”:**
- RAG ëª¨ë“ˆ: OpenAI ì„ë² ë”©ìœ¼ë¡œ ì „í™˜ â†’ ë¶ˆí•„ìš”
- ë¸Œë ˆì¸ìŠ¤í† ë°: OpenAI ì§ì ‘ ì‚¬ìš© â†’ ë¶ˆí•„ìš”
- ì±—ë´‡: OpenAI ì§ì ‘ ì‚¬ìš© â†’ ë¶ˆí•„ìš”

**ê²°ë¡ :**
- âœ… **ì œê±° ê°€ëŠ¥** (ëˆ„êµ¬ë„ ì•ˆ ì“°ê³  ìˆìŒ)
- ğŸ’¾ **2GB ì ˆì•½** (torchê°€ ë§¤ìš° í¼)

---

### 3. **LangChain ë²„ì „**
```
ë²„ì „1: langchain>=0.3.0,<0.4.0 (ë²”ìœ„)
ë²„ì „2: langchain==0.3.27 (ê³ ì •)
ë²„ì „3: langchain==0.3.9 (êµ¬ë²„ì „)
```

**ë¬¸ì œ:**
- ë²„ì „3ì´ ë„ˆë¬´ êµ¬ë²„ì „
- API ë³€ê²½ìœ¼ë¡œ ì¸í•œ í˜¸í™˜ì„± ë¬¸ì œ ê°€ëŠ¥

**í•´ê²°ì±…:**
- ìµœì‹  ì•ˆì • ë²„ì „ìœ¼ë¡œ í†µì¼: `0.3.27`

---

### 4. **pydantic ë²„ì „**
```
ë²„ì „1: >=2.11.2
ë²„ì „2: ==2.12.4
ë²„ì „3: ==2.10.3
```

**ë¬¸ì œ:**
- FastAPIê°€ pydanticì— ì˜ì¡´
- 2.10 â†’ 2.12ëŠ” í˜¸í™˜ë¨ (ë§ˆì´ë„ˆ ë²„ì „)

**í•´ê²°ì±…:**
- 2.12.4ë¡œ í†µì¼ (ìµœì‹ )

---

## âœ… í†µí•© ì œì•ˆ (ìµœì¢…)

```txt
# ========================================
# Virtual Desk Assistant - Unified Requirements
# Python 3.10+ required
# ========================================

# ========================================
# Web Framework
# ========================================
fastapi==0.115.0
uvicorn[standard]==0.32.0
python-multipart==0.0.12

# ========================================
# Database & ORM
# ========================================
sqlalchemy==2.0.36
alembic==1.14.0
psycopg2-binary==2.9.10

# ========================================
# Authentication & Security
# ========================================
python-jose[cryptography]==3.3.0
authlib==1.3.2

# ========================================
# HTTP Client
# ========================================
httpx==0.28.1

# ========================================
# Configuration
# ========================================
python-dotenv==1.0.1
pydantic==2.12.4
pydantic-settings==2.6.1

# ========================================
# OpenAI & LLM
# ========================================
openai==1.57.0

# ========================================
# LangChain & RAG
# ========================================
langchain==0.3.27
langchain-community==0.3.27
langchain-core==0.3.79
langchain-openai==0.2.13
langchain-text-splitters==0.3.11
langsmith==0.4.43

# ========================================
# Vector Database
# ========================================
chromadb==0.5.23  # âš ï¸ 0.4.24ì—ì„œ ì—…ê·¸ë ˆì´ë“œ (ë¸Œë ˆì¸ìŠ¤í† ë° ë°ì´í„° í˜¸í™˜)

# ========================================
# PDF Processing
# ========================================
PyMuPDF==1.24.13
pdfplumber==0.11.8
Pillow==11.0.0

# ========================================
# Utilities
# ========================================
python-dateutil==2.9.0.post0
rich==13.9.4

# ========================================
# Testing
# ========================================
pytest==8.3.4
pytest-asyncio==0.24.0

# ========================================
# Optional: Redis (ì„¤ì •ë§Œ ìˆê³  ë¯¸ì‚¬ìš©)
# ========================================
# redis==5.2.1
# hiredis==3.0.0

# ========================================
# Notes
# ========================================
# ì œê±°ëœ íŒ¨í‚¤ì§€ (í™•ì¸ëœ ë¯¸ì‚¬ìš©):
# - sentence-transformers: OpenAI ì„ë² ë”© ì‚¬ìš©
# - torch/torchvision/torchaudio: ë¯¸ì‚¬ìš©
# - numpy/pandas/scikit-learn: LangChain ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©
# - pgvector: ChromaDB ì‚¬ìš©
# - asyncpg: psycopg2-binary ì‚¬ìš©
# - slack-sdk: ë¯¸ì‚¬ìš©
# - voyageai: ë¯¸ì‚¬ìš©
```

---

## ğŸ¯ ë³€ê²½ ì‚¬í•­ ìš”ì•½

### âœ… ì—…ê·¸ë ˆì´ë“œ
- chromadb: 0.4.24 â†’ **0.5.23**
- pydantic: 2.10.3 â†’ **2.12.4**
- langchain: 0.3.9 â†’ **0.3.27**
- langchain-core: 0.3.21 â†’ **0.3.79**

### âŒ ì œê±° (2GB ì ˆì•½)
- sentence-transformers (ë¯¸ì‚¬ìš©)
- torch (ë¯¸ì‚¬ìš©)
- transformers (ë¯¸ì‚¬ìš©)
- redis (ì„ íƒì )
- slack-sdk (ë¯¸ì‚¬ìš©)

### âš ï¸ í™•ì¸ í•„ìš”
- ChromaDB 0.5.23ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ì‹œ RAG ëª¨ë“ˆ ì •ìƒ ì‘ë™ í™•ì¸
- LangChain 0.3.27ë¡œ ì—…ê·¸ë ˆì´ë“œ ì‹œ API í˜¸í™˜ì„± í™•ì¸

---

## ğŸ“‹ í†µí•© ì ˆì°¨

### 1. íŒ€ íšŒì˜
- ê°ì ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ í™•ì¸
- ChromaDB ë²„ì „ í•©ì˜ (0.4.24 vs 0.5.23)

### 2. ë°±ì—…
```bash
cp -r backend/app/domain/brainstorming/data/chroma backup/
git stash  # í˜„ì¬ ì‘ì—… ì €ì¥
```

### 3. í†µí•© requirements.txt ì ìš©
```bash
pip install -r requirements_unified.txt
```

### 4. í…ŒìŠ¤íŠ¸
```bash
# ì„œë²„ ì‹œì‘ í™•ì¸
python assistant.py

# ê° ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
python backend/app/domain/brainstorming/test_search.py
python backend/app/domain/chatbot/test_console.py
```

### 5. Git ì»¤ë°‹
```bash
git add requirements.txt
git commit -m "Unify requirements.txt - resolve conflicts"
git push
```

---

## â° ê¸´ê¸‰ë„: ğŸ”´ ë†’ìŒ

**ì´ìœ :**
1. ëª¨ë“ˆ ê°œìˆ˜ ì¦ê°€ ì¤‘ (2ê°œ â†’ 7~10ê°œ ì˜ˆì •)
2. ë‚˜ì¤‘ì— í†µí•©ì€ 10ë°° ë” ì–´ë ¤ì›€
3. ë°ì´í„° ì†ì‹¤ ìœ„í—˜

**ê¶Œì¥:**
- ë‚´ì¼ íŒ€ íšŒì˜ì—ì„œ ìµœìš°ì„  ì•ˆê±´ìœ¼ë¡œ ë‹¤ë£¨ê¸°
- ì´ ë¬¸ì„œë¥¼ ê³µìœ í•˜ì—¬ ì¶©ëŒ í˜„í™© ì„¤ëª…

